{"ast":null,"code":"import axios from 'axios';\nimport { loadUserRequest, loadUserSuccess, loadUserFail } from '../userSlice'; // Adjust the import path as needed\n\nconst GetUser = async dispatch => {\n  try {\n    dispatch(loadUserRequest());\n\n    // Specify the expected response structure\n    const response = await axios.get('http://localhost:5001/api/logedin/user', {\n      withCredentials: true\n    });\n\n    // Access the nested user object correctly\n    dispatch(loadUserSuccess(response.data.user));\n  } catch (error) {\n    var _axiosError$response, _axiosError$response$;\n    const axiosError = error; // Use AxiosError with ErrorResponse type\n\n    // Safely access the message property\n    const errorMessage = ((_axiosError$response = axiosError.response) === null || _axiosError$response === void 0 ? void 0 : (_axiosError$response$ = _axiosError$response.data) === null || _axiosError$response$ === void 0 ? void 0 : _axiosError$response$.message) || 'Failed to fetch user';\n    console.error(errorMessage);\n    dispatch(loadUserFail(errorMessage));\n  }\n};\n_c = GetUser;\nexport default GetUser;\nvar _c;\n$RefreshReg$(_c, \"GetUser\");","map":{"version":3,"names":["axios","loadUserRequest","loadUserSuccess","loadUserFail","GetUser","dispatch","response","get","withCredentials","data","user","error","_axiosError$response","_axiosError$response$","axiosError","errorMessage","message","console","_c","$RefreshReg$"],"sources":["/Users/mohammedamsith/Desktop/A/Projects/MERN/Seperate/google auth, mailtrap, node, TypeScript  copy/frontend/src/components/store/action/actions.tsx"],"sourcesContent":["import axios, { AxiosError } from 'axios';\nimport { useDispatch } from 'react-redux';\nimport { loadUserRequest, loadUserSuccess, loadUserFail } from '../userSlice'; // Adjust the import path as needed\n\ninterface ErrorResponse {\n    message: string;\n}\n\nconst GetUser = async (dispatch:any) => {\n        try {\n            dispatch(loadUserRequest());\n\n            // Specify the expected response structure\n            const response = await axios.get<{ user: any }>(\n                'http://localhost:5001/api/logedin/user',\n                { withCredentials: true }\n            );\n\n            // Access the nested user object correctly\n            dispatch(loadUserSuccess(response.data.user));\n        } catch (error) {\n            const axiosError = error as AxiosError<ErrorResponse>; // Use AxiosError with ErrorResponse type\n\n            // Safely access the message property\n            const errorMessage = axiosError.response?.data?.message || 'Failed to fetch user';\n            console.error(errorMessage);\n\n            dispatch(loadUserFail(errorMessage));\n        }\n    };\n\n\nexport default GetUser;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAsB,OAAO;AAEzC,SAASC,eAAe,EAAEC,eAAe,EAAEC,YAAY,QAAQ,cAAc,CAAC,CAAC;;AAM/E,MAAMC,OAAO,GAAG,MAAOC,QAAY,IAAK;EAChC,IAAI;IACAA,QAAQ,CAACJ,eAAe,CAAC,CAAC,CAAC;;IAE3B;IACA,MAAMK,QAAQ,GAAG,MAAMN,KAAK,CAACO,GAAG,CAC5B,wCAAwC,EACxC;MAAEC,eAAe,EAAE;IAAK,CAC5B,CAAC;;IAED;IACAH,QAAQ,CAACH,eAAe,CAACI,QAAQ,CAACG,IAAI,CAACC,IAAI,CAAC,CAAC;EACjD,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAC,oBAAA,EAAAC,qBAAA;IACZ,MAAMC,UAAU,GAAGH,KAAkC,CAAC,CAAC;;IAEvD;IACA,MAAMI,YAAY,GAAG,EAAAH,oBAAA,GAAAE,UAAU,CAACR,QAAQ,cAAAM,oBAAA,wBAAAC,qBAAA,GAAnBD,oBAAA,CAAqBH,IAAI,cAAAI,qBAAA,uBAAzBA,qBAAA,CAA2BG,OAAO,KAAI,sBAAsB;IACjFC,OAAO,CAACN,KAAK,CAACI,YAAY,CAAC;IAE3BV,QAAQ,CAACF,YAAY,CAACY,YAAY,CAAC,CAAC;EACxC;AACJ,CAAC;AAACG,EAAA,GArBAd,OAAO;AAwBb,eAAeA,OAAO;AAAC,IAAAc,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}